<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sales Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css">
    <link rel="stylesheet" href="css/leaflet.extra-markers.min.css">
   
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="crossorigin="" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Sanchez" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">    
        <!-- Marker cluster CSS -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.Default.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="col-sm-2 col-xs-7 navbar-header">
                <span class="logobox">
                  <a id="logo" href="index#">
                    <img src="./static/image/logo4.png" alt=""/>
                  </a> 
                </span><!--/.logobox-->
            </div>
            <a class="navbar-brand" href="/index">Sales Dashboard</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Explore
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" href="/">API</a></li>
                            <li><a class="dropdown-item" href="product#">Product Analysis</a></li>
                            <li><a class="dropdown-item" href="revenue#">Revenue Analysis</a></li>
                            <li><a class="dropdown-item" href="delivery#">Delivery Analysis</a></li>
                            <li><a class="dropdown-item" href="order#">Order Analysis</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="row">
            <div class="col-md-12 p-5 text-center bg-light">
                <h1>Global Electronic Retail Dashboard</h1>
                <p>Use the interactive charts below to explore the dataset</p>
            </div>
        </div>
        <br>
        <div class="row bg-light">
            <div>
                <h2>Types of Products Sold and Customer Locations</h2>
                <p>Visualizations showing the distribution of different product types sold and customer locations.</p>
            </div>              
            <div id="select1">
                <label for="country-select">Country: </label>
                <select id="country-select"></select>
            </div>
            <div id="select1">
                <label for="region-select">State: </label>
                <select id="region-select"></select>
            </div>
            <div id="select1">
                <label for="time-select">Year: </label>
                <select id="time-select"></select>
            </div>  
        </div>
        <br>
        <div id="question1">
            <div class="row">
                <div class="col-md-6">
                    <div class="chart" id="product-sales-chart">
                        <div id="productSalesChart"></div>
                    </div>
                </div>
                <div class="col-md-6 ">
                    <div id="topProduct" class="table">
                        <!-- Top Product Table will be dynamically filled -->
                    </div>
                    <div id="lossProduct" class="table">
                        <!-- Loss Product Table will be dynamically filled -->
                    </div>
                </div>
            </div>
            <br>
           <div class="row text-bg-secondary p-3">
                <div class="radio-buttons ">
                    <label>
                        <input type="radio" name="mapOption" value="heatmap" checked> Customer Cluster Map
                    </label>
                    <label>
                        <input type="radio" name="mapOption" value="gender"> Customer by Gender
                    </label>
                </div>
            </div>
            <br>
            <div class="row" id="map-plot">
              
                <div id="heat-map-container">
                    <div class="chart" id="customer-heat-map"></div>
                </div>
            
                <div class="big-map">
                    <div id="map-container">
                        <div class="chart" id="customer-location-map"></div>
                    </div>
                    <div id="pie-container">
                        <div class="chart" id="pie-chart">
                            <canvas id="pieChart" height="500"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <br>
            <div class="row bg-light">
                <div>
                    <h2>Store Locations by Revenue</h2>
                    <p>Visualizations showing the distribution of different product types sold and customer locations.</p>
                </div>              
                <div id="select1">
                    <label for="store-country-select">Country: </label>
                    <select id="store-country-select"></select>
                </div>
                
                <div id="select1">
                    <label for="store-time-select">Year: </label>
                    <select id="store-time-select"></select>
                </div>
            </div>
            <br>
            <div class="row">
                 
                <div class="col-md-6">
                    <div class="chart" id="stacked-bar-chart">
                        <div id="stackedBarChart"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div id="topStore" class="table">
                        <!-- Top Product Table will be dynamically filled -->
                    </div>
                    <div id="lossStore" class="table">
                        <!-- Loss Product Table will be dynamically filled -->
                    </div>
                </div>
            </div>
        </div>
        <div  id="question2">
            <h2>Seasonal Patterns or Trends for Order Volume or Revenue</h2>
            <p>Visualizations showing seasonal patterns or trends in order volume or revenue.</p>
            <div class="container">
                <div class="chart" id="monthlyOrderRevenue-LineChart">
                    <div id="monthlyOrderRevenueLineChart"></div>
                </div>
                <div class = "flex-container">
                    <div class="chart" id="willy">
                        <div id="monthlyOrderVolumeLineChart"></div>
                    </div>
                    <div class="chart" id="willy">
                        <div id="monthlyRevenueLineChart"></div>
                    </div>
                 </div>
                <div class = "flex-container">
                    <div class="chart" id="willy">
                        <div id="monthlyOrderHeatmap"></div>
                    </div>
                    <div class="chart" id="willy">
                        <div id="monthlyRevenueHeatmap"></div>
                    </div>
                </div>
                
                <div >
                    <label for="yearSelector">Select Year:</label>
                    <select id="yearSelector">
                    </select>
                </div>
                <div class = "flex-container">
                    <div class="chart" id="willy">
                        <div id="seasonalOrderBoxPlot"></div>
                    </div>
                    <div class="chart" id="willy">
                        <div id="seasonalRevenueBoxPlot"></div>
                    </div>
                </div>
             </div>
        </div>
        <div  id="question3">
            <div>
                <h2>Average Delivery Time (in Days) Over Time</h2>
                <p>Visualizations showing the average delivery time over different periods and for different regions.</p>
                <select id="SelectRegion">
                <option value="All Regions">All Regions</option>
                <option value="AUD">Australia</option>
                <option value="CAD">Canada</option>
                <option value="EUR">Europe</option>
                <option value="GBP">UK</option>
                <option value="USD">USA</option>
                </select>
                <div class="chart" id="avg-delivery-line-chart">
                    
                </div>
           </div>
            <div class="harshh">
            <h2>Visualizations showing Product-wise Delivery Times</h2>
                <div>
                <button onclick="updateChart('Top', 10)">Top 10</button>
                <button onclick="updateChart('Top', 20)">Top 20</button>
                <button onclick="updateChart('Top', 50)">Top 50</button>
                <button onclick="updateChart('Top', 100)">Top 100</button>
                <button onclick="updateChart('Bottom', 10)">Bottom 10</button>
                <button onclick="updateChart('Bottom', 20)">Bottom 20</button>
                <button onclick="updateChart('Bottom', 50)">Bottom 50</button>
                <button onclick="updateChart('Bottom', 100)">Bottom 100</button>
                </div>
                <div>
                <input type="text" id="product-input" placeholder="Enter a product name to see its average delivery time" oninput="showSuggestions(this.value)">
                <div id="suggestions"></div>
                </div>
                <div class="chart" id="product-wise-chart">
                
                </div>
            </div>
        </div>

        <div  id="question3">
    
        <div class="container">
                
            <div >
                    <label for="boxPlotYearSelector">Select Year:</label>
                            <select id="boxPlotYearSelector">
                            </select>
            </div>
            <div class = "flex-container">
                <div class="chart" id="suad">
                    <div id="aovBoxPlot"></div>
                </div>
                <div class="chart" id="suad">
                    <div id="aovViolinPlot"></div>
                </div>
            </div>
            <div class="chart" id="aov-bar-chart">
                <div id="aovBarChart"></div>
            </div>
            
        </div>
    </div>

 
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
    <script src="js/leaflet.extra-markers.min.js"></script>
    <!-- polyfill.io is the library for using newer JavaScript features (such as Object.assign) in older browers. -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
    <!-- MomentJS -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
    <!-- Leaflet JavaScript code -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-extra-markers/dist/js/leaflet.extra-markers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Marker cluster JavaScript code -->
    <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js"></script>
</body>
</html>
